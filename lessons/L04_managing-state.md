# บทเรียน 3 - จัดการ state

การเขียนหน้าบ้านจะต้องจัดการกับ state เป็นหลัก สำหรับในคอร์สนี้เราจะแบ่ง state ออกเป็น 2 กลุ่ม
- UI state: ข้อมูลที่ users นั้น interact ด้วย เช่น ข้อความที่พิม ตัวเลือกต่างๆที่สามารถเปลี่ยนได้
- Server state: ข้อมูลที่มาจากหลังบ้านหรือ 3rd party service อื่นๆ

เรามาเริ่มจาก UI state กันก่อนเลย ด้วยตัวอย่าง e-commerce แบบง่ายๆ แล้วเราจะค่อยๆเพิ่มฟีเจอร์เข้าไป

โจทย์คือให้สร้างตัวเลือกสินค้า โดยมี สี และ ไซส์ ใช้ user เลือก เมื่อเลือกแต่ละ option แล้วเราจะไปเช็คดูว่ามีสินค้าหรือไม่ ถ้ามีก็จะโชว์ปุ่มกดเพิ่มสินค้า แต่ถ้าไม่มีก็จะแสดงข้อความว่าสินค้าหมด

เปิดโฟลเดอร์ `/lessons/L04_managing-state/` ขึ้นมา จะเห็นว่ามีไฟล์ `index.js` และ `index.html` อยู่
- ใช้ vscode เปิด `index.js`
- ใช้ chrome เปิด `index.html`

เมื่อเราแก้โค้ดใน `index.js` ให้กดบันทึก แล้ว refresh ที่หน้า chrome เพื่อเห็นการเปลี่ยนแปลง

ทริกในการสร้าง state
- ส่วนใหญ่จะเป็นสิ่งที่ users สามารถแก้ไขได้
- ควรจะเป็นส่วนที่เล็กที่สุดเท่าที่จะทำได้ก่อน (string, boolean, number)
- independent ต่อกัน จะทำให้ให้จัดการง่ายที่สุด อย่างพึ่งให้ความสำคัญกับความสวยงามของโค้ด และอย่าพึ่งสร้าง abstraction ตั้งแต่เริ่มต้น

ในกรณีนี้เราจะสร้าง 2 state คือ `selectedColor` และ `selectedSize` (ถึงแม้ชื่อตัวแปรจะยาวแต่ว่าสื่อความหมายได้ดีกว่าแค่ `color` หรือ `size`)

เปิด `index.js` ขึ้นมาแล้ว เพิ่มโค้ดนี้ลงไป

```js
function App() {
  const [selectedSize, setSelectedSize] = React.useState(null);
  const [selectedColor, setSelectedColor] = React.useState(null);
  return null
}
```
